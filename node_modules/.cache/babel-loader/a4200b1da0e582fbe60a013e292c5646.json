{"ast":null,"code":"import _slicedToArray from\"/home/mateusz/example-page-with-article/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import*as firebase from\"firebase\";import Article from\"../../Components/Article/Article\";import img from\"../../assets/1.jpg\";import styles from\"../Relations/Relations.module.scss\";import{connectFirebase}from\"../../FirebaseConnect/FirebaseConnect\";var ArticleByTag=function ArticleByTag(props){connectFirebase();var tag=props.location.search.slice(5);var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),articleJSX=_useState2[0],setArticleJSX=_useState2[1];var getData=function getData(){firebase.database().ref().on('value',function(snap){var articles=snap.val();var article=[];var _loop=function _loop(key){var tagsFromArticle=articles[key].tags.split(\" \");tagsFromArticle.forEach(function(item){if(item===tag){article.push(React.createElement(Article,{header:articles[key].title,image:img,tags:tagsFromArticle,id:key,author:articles[key].author,date:articles[key].date,key:key}));}});};for(var key in articles){_loop(key);}if(article!==articleJSX){setArticleJSX(article);}});};useEffect(function(){if(articleJSX===undefined){getData();}});return React.createElement(\"div\",null,React.createElement(\"div\",{className:styles.container},React.createElement(\"header\",{className:styles.header},\"Tag \",tag),articleJSX));};export default ArticleByTag;","map":{"version":3,"sources":["/home/mateusz/example-page-with-article/src/Screens/ArticleByTag/ArticleByTag.js"],"names":["React","useEffect","useState","firebase","Article","img","styles","connectFirebase","ArticleByTag","props","tag","location","search","slice","undefined","articleJSX","setArticleJSX","getData","database","ref","on","snap","articles","val","article","key","tagsFromArticle","tags","split","forEach","item","push","title","author","date","container","header"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,UAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,CACA,OAAQC,eAAR,KAA8B,uCAA9B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE/BF,eAAe,GAEf,GAAMG,CAAAA,GAAG,CAAGD,KAAK,CAACE,QAAN,CAAeC,MAAf,CAAsBC,KAAtB,CAA4B,CAA5B,CAAZ,CAJ+B,cAMKX,QAAQ,CAACY,SAAD,CANb,wCAMxBC,UANwB,eAMZC,aANY,eAO/B,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACrBd,QAAQ,CAACe,QAAT,GAAoBC,GAApB,GAA0BC,EAA1B,CAA6B,OAA7B,CAAsC,SAACC,IAAD,CAAU,CAC/C,GAAIC,CAAAA,QAAQ,CAAGD,IAAI,CAACE,GAAL,EAAf,CACA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAF+C,yBAGtCC,GAHsC,EAI9C,GAAMC,CAAAA,eAAe,CAAGJ,QAAQ,CAACG,GAAD,CAAR,CAAcE,IAAd,CAAmBC,KAAnB,CAAyB,GAAzB,CAAxB,CACAF,eAAe,CAACG,OAAhB,CAAwB,SAAAC,IAAI,CAAI,CAC/B,GAAIA,IAAI,GAAKpB,GAAb,CAAkB,CACjBc,OAAO,CAACO,IAAR,CAAa,oBAAC,OAAD,EAAS,MAAM,CAAET,QAAQ,CAACG,GAAD,CAAR,CAAcO,KAA/B,CAAsC,KAAK,CAAE3B,GAA7C,CAAkD,IAAI,CAAEqB,eAAxD,CAAyE,EAAE,CAAED,GAA7E,CACS,MAAM,CAAEH,QAAQ,CAACG,GAAD,CAAR,CAAcQ,MAD/B,CACuC,IAAI,CAAEX,QAAQ,CAACG,GAAD,CAAR,CAAcS,IAD3D,CACiE,GAAG,CAAET,GADtE,EAAb,EAEA,CACD,CALD,EAL8C,EAG/C,IAAK,GAAIA,CAAAA,GAAT,GAAgBH,CAAAA,QAAhB,CAA0B,OAAjBG,GAAiB,EAQzB,CACD,GAAID,OAAO,GAAKT,UAAhB,CAA4B,CAC3BC,aAAa,CAACQ,OAAD,CAAb,CACA,CACD,CAfD,EAgBA,CAjBD,CAmBAvB,SAAS,CAAC,UAAM,CACf,GAAIc,UAAU,GAAKD,SAAnB,CAA8B,CAC7BG,OAAO,GACP,CACD,CAJQ,CAAT,CAMA,MACC,gCACC,2BAAK,SAAS,CAAEX,MAAM,CAAC6B,SAAvB,EACC,8BAAQ,SAAS,CAAE7B,MAAM,CAAC8B,MAA1B,SAAuC1B,GAAvC,CADD,CAEEK,UAFF,CADD,CADD,CAQA,CAxCD,CA0CA,cAAeP,CAAAA,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport * as firebase from \"firebase\";\nimport Article from \"../../Components/Article/Article\";\nimport img from \"../../assets/1.jpg\";\nimport styles from \"../Relations/Relations.module.scss\";\nimport {connectFirebase} from \"../../FirebaseConnect/FirebaseConnect\";\n\nconst ArticleByTag = (props) => {\n\n\tconnectFirebase();\n\n\tconst tag = props.location.search.slice(5);\n\n\tconst [articleJSX, setArticleJSX] = useState(undefined);\n\tconst getData = () => {\n\t\tfirebase.database().ref().on('value', (snap) => {\n\t\t\tlet articles = snap.val();\n\t\t\tlet article = [];\n\t\t\tfor (let key in articles) {\n\t\t\t\tconst tagsFromArticle = articles[key].tags.split(\" \");\n\t\t\t\ttagsFromArticle.forEach(item => {\n\t\t\t\t\tif (item === tag) {\n\t\t\t\t\t\tarticle.push(<Article header={articles[key].title} image={img} tags={tagsFromArticle} id={key}\n\t\t\t\t\t\t                      author={articles[key].author} date={articles[key].date} key={key}/>);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (article !== articleJSX) {\n\t\t\t\tsetArticleJSX(article);\n\t\t\t}\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (articleJSX === undefined) {\n\t\t\tgetData();\n\t\t}\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={styles.container}>\n\t\t\t\t<header className={styles.header}>Tag {tag}</header>\n\t\t\t\t{articleJSX}\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default ArticleByTag;"]},"metadata":{},"sourceType":"module"}